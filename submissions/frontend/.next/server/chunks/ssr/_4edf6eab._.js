module.exports=[24737,a=>{a.v({active:"page-module-scss-module__Mnbi0q__active",availableFieldsText:"page-module-scss-module__Mnbi0q__availableFieldsText",badges:"page-module-scss-module__Mnbi0q__badges",bottomFilters:"page-module-scss-module__Mnbi0q__bottomFilters",btn:"page-module-scss-module__Mnbi0q__btn",chartArea:"page-module-scss-module__Mnbi0q__chartArea",chartContainer:"page-module-scss-module__Mnbi0q__chartContainer",container:"page-module-scss-module__Mnbi0q__container",error:"page-module-scss-module__Mnbi0q__error",fadeIn:"page-module-scss-module__Mnbi0q__fadeIn",fadeInUp:"page-module-scss-module__Mnbi0q__fadeInUp",fieldsInfo:"page-module-scss-module__Mnbi0q__fieldsInfo",filterSection:"page-module-scss-module__Mnbi0q__filterSection",filtersGrid:"page-module-scss-module__Mnbi0q__filtersGrid",filtersPanel:"page-module-scss-module__Mnbi0q__filtersPanel",header:"page-module-scss-module__Mnbi0q__header",headerTop:"page-module-scss-module__Mnbi0q__headerTop",input:"page-module-scss-module__Mnbi0q__input",loadingContent:"page-module-scss-module__Mnbi0q__loadingContent",loadingOverlay:"page-module-scss-module__Mnbi0q__loadingOverlay",loadingSpinner:"page-module-scss-module__Mnbi0q__loadingSpinner",loadingText:"page-module-scss-module__Mnbi0q__loadingText",loadingTextLarge:"page-module-scss-module__Mnbi0q__loadingTextLarge",mainContent:"page-module-scss-module__Mnbi0q__mainContent",noData:"page-module-scss-module__Mnbi0q__noData",noFieldsText:"page-module-scss-module__Mnbi0q__noFieldsText",panel:"page-module-scss-module__Mnbi0q__panel",periodBtn:"page-module-scss-module__Mnbi0q__periodBtn",periodButtons:"page-module-scss-module__Mnbi0q__periodButtons",pulse:"page-module-scss-module__Mnbi0q__pulse",select:"page-module-scss-module__Mnbi0q__select",shimmer:"page-module-scss-module__Mnbi0q__shimmer",skeleton:"page-module-scss-module__Mnbi0q__skeleton",skeletonField:"page-module-scss-module__Mnbi0q__skeletonField",skeletonText:"page-module-scss-module__Mnbi0q__skeletonText",slideDown:"page-module-scss-module__Mnbi0q__slideDown",slideUp:"page-module-scss-module__Mnbi0q__slideUp",spin:"page-module-scss-module__Mnbi0q__spin",timeInputs:"page-module-scss-module__Mnbi0q__timeInputs"})},52234,a=>{a.v({animatedArea:"LineChart-module-scss-module__67lgJG__animatedArea",animatedPath:"LineChart-module-scss-module__67lgJG__animatedPath",drawPath:"LineChart-module-scss-module__67lgJG__drawPath",fadeInArea:"LineChart-module-scss-module__67lgJG__fadeInArea",hoverPoint:"LineChart-module-scss-module__67lgJG__hoverPoint",svg:"LineChart-module-scss-module__67lgJG__svg",tick:"LineChart-module-scss-module__67lgJG__tick",timeTick:"LineChart-module-scss-module__67lgJG__timeTick",title:"LineChart-module-scss-module__67lgJG__title",tooltip:"LineChart-module-scss-module__67lgJG__tooltip",wrap:"LineChart-module-scss-module__67lgJG__wrap",yLabel:"LineChart-module-scss-module__67lgJG__yLabel"})},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},41997,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{BailoutToCSRError:function(){return e},isBailoutToCSRError:function(){return f}});let d="BAILOUT_TO_CLIENT_SIDE_RENDERING";class e extends Error{constructor(a){super("Bail out to client-side rendering: "+a),this.reason=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===d}},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e(a){let{reason:b,children:c}=a;throw Object.defineProperty(new d.BailoutToCSRError(b),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return h}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773);function h(a){let{moduleIds:b}=a,c=f.workAsyncStorage.getStore();if(void 0===c)return null;let h=[];if(c.reactLoadableManifest&&b){let a=c.reactLoadableManifest;for(let c of b){if(!a[c])continue;let b=a[c].files;h.push(...b)}}return 0===h.length?null:(0,d.jsx)(d.Fragment,{children:h.map(a=>{let b=c.assetPrefix+"/_next/"+(0,g.encodeURIPath)(a);return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:b,rel:"stylesheet",as:"style"},a):((0,e.preload)(b,{as:"script",fetchPriority:"low"}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){var c;let e={};"function"==typeof a&&(e.loader=a);let f={...e,...b};return(0,d.default)({...f,modules:null==(c=f.loadableGenerated)?void 0:c.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},5659,a=>{a.v({infoItem:"MapView-module-scss-module__oyhOsa__infoItem",leafletMap:"MapView-module-scss-module__oyhOsa__leafletMap",loading:"MapView-module-scss-module__oyhOsa__loading",mapContainer:"MapView-module-scss-module__oyhOsa__mapContainer",mapInfo:"MapView-module-scss-module__oyhOsa__mapInfo",noData:"MapView-module-scss-module__oyhOsa__noData"})},42503,a=>{"use strict";a.s(["default",()=>r],42503);var b=a.i(87924),c=a.i(72131),d=a.i(24737);async function e(a){let b=await fetch(a);if(!b.ok)throw Error(await b.text());return b.json()}let f=a=>{let b=new URLSearchParams({imei:a.imei,start:a.start,end:a.end});return e(`/api/telemetry?${b.toString()}`)};var g=a.i(52234);let h={top:10,right:50,bottom:30,left:60},i=a=>{if(a.length<2)return"";if(2===a.length)return`M ${a[0].x} ${a[0].y} L ${a[1].x} ${a[1].y}`;let b=`M ${a[0].x} ${a[0].y}`;for(let c=1;c<a.length;c++){let d=a[c],e=a[c-1];if(1===c)b+=` L ${d.x} ${d.y}`;else{let a=e.x+(d.x-e.x)*.5;b+=` Q ${a} ${e.y} ${d.x} ${d.y}`}}return b};function j({data:a,width:d="100%",height:e=400,color:f="#4c8cff",title:j,yLabel:k,showArea:l=!0,showGrid:m=!0,maxDataPoints:n=1e3,animate:o=!1}){let[p,q]=(0,c.useState)(null),r=(0,c.useRef)(null),s=((a,b)=>{let[d,e]=(0,c.useState)(a);return c.default.useEffect(()=>{let b=setTimeout(()=>{e(a)},50);return()=>{clearTimeout(b)}},[a,50]),d})(p,50),t=(0,c.useMemo)(()=>{if(!a?.length)return{path:"",area:"",yTicks:[],timeTicks:[],xmin:0,xmax:1,ymin:0,ymax:1,svgWidth:1e3,svgHeight:e,pts:[],sx:()=>0,sy:()=>0};let b=a.filter(a=>a.value>=0);if(!b.length)return{path:"",area:"",yTicks:[],timeTicks:[],xmin:0,xmax:1,ymin:0,ymax:1,svgWidth:1e3,svgHeight:e,pts:[],sx:()=>0,sy:()=>0};let c=(b.length>n?b.filter((a,c)=>c%Math.ceil(b.length/n)==0):b).map(a=>({t:new Date(a.time).getTime(),v:a.value,raw:a})),d=c.map(a=>a.t),f=c.map(a=>a.v),[g,j]=(a=>{if(!a.length)return[0,1];let b=a[0],c=a[0];for(let d of a)d<b&&(b=d),d>c&&(c=d);if(b===c){let a=.1*Math.max(1,Math.abs(b));return[b-a,c+a]}let d=(c-b)*.05;return[b-d,c+d]})(d),[k,m]=(a=>{if(!a.length)return[0,1];let b=a[0],c=a[0];for(let d of a)d<b&&(b=d),d>c&&(c=d);if(b===c){let a=.1*Math.max(1,Math.abs(b));return[Math.max(0,b-a),c+a]}let d=(c-b)*.05;return[Math.max(0,b-d),c+d]})(f),o=Math.max(1e3,2*e),p=o-h.left-h.right,q=e-h.top-h.bottom,r=a=>h.left+(g===j?.5:(a-g)/(j-g))*p,s=a=>h.top+(m===k?.5:1-(a-k)/(m-k))*q,t=c.map(a=>({x:r(a.t),y:s(a.v)})),u=i(t),v=l?((a,b)=>{if(a.length<2)return"";let c=i(a),d=a[a.length-1],e=a[0];return`${c} L ${d.x} ${b} L ${e.x} ${b} Z`})(t,h.top+q):"",w=Array.from({length:6},(a,b)=>{let c=k+b/5*(m-k);return{y:s(c),val:c}}),x=j-g,y=Math.max(3,Math.min(8,Math.floor(p/100)));return{path:u,area:v,yTicks:w,timeTicks:Array.from({length:y+1},(a,b)=>{let c=b/y,d=g+x*c,e=h.left+p*c,f=((a,b)=>{let c=new Date(a),d=b/36e5,e=String(c.getDate()).padStart(2,"0"),f=String(c.getMonth()+1).padStart(2,"0"),g=String(c.getHours()).padStart(2,"0"),h=String(c.getMinutes()).padStart(2,"0");return d<=24?`${g}:${h}`:d<=168?`${e}.${f} ${g}:${h}`:`${e}.${f}`})(d,x);return{x:e,time:d,label:f}}),xmin:g,xmax:j,ymin:k,ymax:m,svgWidth:o,svgHeight:e,pts:c,sx:r,sy:s}},[a,e,n,l]),u=(0,c.useCallback)(a=>{if(!t.pts.length)return null;let b=t.pts[0],c=Math.abs(t.sx(b.t)-a);for(let d of t.pts){let e=Math.abs(t.sx(d.t)-a);e<c&&(c=e,b=d)}return b},[t.pts,t.sx]),v=(0,c.useCallback)(a=>{if(!t.pts.length||!r.current)return;let b=r.current.getBoundingClientRect(),c=(a.clientX-b.left)/b.width*t.svgWidth;if(c<h.left||c>t.svgWidth-h.right)return void q(null);let d=u(c);if(d)q({x:t.sx(d.t),y:t.sy(d.v),time:d.t,value:d.v,label:`${new Date(d.t).toLocaleString("ru-RU")} • ${d.v.toFixed(2)}${k?` ${k}`:""}`})},[t,u,k]),w=(0,c.useCallback)(()=>q(null),[]),x=`areaGrad-${f.replace("#","")}`,y=`glow-${f.replace("#","")}`;return(0,b.jsxs)("div",{className:g.default.wrap,style:{width:d},children:[j&&(0,b.jsxs)("div",{className:g.default.title,children:[(0,b.jsx)("h3",{children:j}),k&&(0,b.jsx)("span",{className:g.default.yLabel,children:k})]}),(0,b.jsxs)("svg",{ref:r,className:g.default.svg,width:"100%",height:e,viewBox:`0 0 ${t.svgWidth} ${t.svgHeight}`,preserveAspectRatio:"xMidYMid meet",onMouseMove:v,onMouseLeave:w,style:{cursor:"crosshair"},children:[(0,b.jsxs)("defs",{children:[(0,b.jsxs)("linearGradient",{id:x,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:f,stopOpacity:"0.3"}),(0,b.jsx)("stop",{offset:"100%",stopColor:f,stopOpacity:"0.05"})]}),(0,b.jsxs)("filter",{id:y,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,b.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,b.jsxs)("feMerge",{children:[(0,b.jsx)("feMergeNode",{in:"coloredBlur"}),(0,b.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),m&&t.yTicks.map((a,c)=>{var d;return(0,b.jsxs)("g",{children:[(0,b.jsx)("line",{x1:h.left,x2:t.svgWidth-h.right,y1:a.y,y2:a.y,stroke:"rgba(255, 255, 255, 0.08)",strokeWidth:"1"}),(0,b.jsx)("text",{x:h.left-10,y:a.y,textAnchor:"end",dominantBaseline:"middle",className:g.default.tick,children:0===(d=a.val)?"0":.01>Math.abs(d)||Math.abs(d)>1e6?d.toExponential(2):Number.isInteger(d)?d.toString():parseFloat(d.toFixed(2)).toString()})]},`y-tick-${c}`)}),t.timeTicks.map((a,c)=>(0,b.jsxs)("g",{children:[(0,b.jsx)("line",{x1:a.x,x2:a.x,y1:t.svgHeight-h.bottom,y2:t.svgHeight-h.bottom+5,stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"1"}),(0,b.jsx)("text",{x:a.x,y:t.svgHeight-h.bottom+20,textAnchor:"middle",className:g.default.timeTick,children:a.label})]},`time-tick-${c}`)),l&&t.area&&(0,b.jsx)("path",{d:t.area,fill:`url(#${x})`,className:o?g.default.animatedArea:""}),t.path&&(0,b.jsx)("path",{d:t.path,fill:"none",stroke:f,strokeWidth:"1",filter:`url(#${y})`,strokeLinecap:"round",strokeLinejoin:"round",className:o?g.default.animatedPath:""}),s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("line",{x1:s.x,x2:s.x,y1:h.top,y2:t.svgHeight-h.bottom,stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"0,2",strokeDasharray:"4,4"}),(0,b.jsx)("line",{x1:h.left,x2:t.svgWidth-h.right,y1:s.y,y2:s.y,stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"0,2",strokeDasharray:"4,4"}),(0,b.jsx)("circle",{cx:s.x,cy:s.y,r:"5",fill:"#ffffff",stroke:f,strokeWidth:"3",className:g.default.hoverPoint})]})]}),s&&(0,b.jsx)("div",{className:g.default.tooltip,style:{left:`${Math.min(Math.max(10,s.x/t.svgWidth*100),90)}%`,top:`${Math.max(10,s.y/t.svgHeight*100-10)}%`},children:s.label})]})}var k=a.i(19721),l=a.i(5659);let m=(0,k.default)(async()=>{},{loadableGenerated:{modules:[89855]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:l.default.loading,children:"Загрузка карты..."})});function n({track:a,width:c=400,height:d=600}){return a.length?(0,b.jsxs)("div",{className:l.default.mapContainer,style:{width:c,height:d},children:[(0,b.jsxs)("div",{className:l.default.mapInfo,children:[(0,b.jsxs)("div",{className:l.default.infoItem,children:[(0,b.jsx)("span",{children:"Точек:"})," ",a.length]}),(0,b.jsxs)("div",{className:l.default.infoItem,children:[(0,b.jsx)("span",{children:"Период:"})," ",new Date(a[0].time).toLocaleString()," - ",new Date(a[a.length-1].time).toLocaleString()]})]}),(0,b.jsx)(m,{track:a})]}):(0,b.jsx)("div",{className:l.default.mapContainer,style:{width:c,height:d},children:(0,b.jsx)("div",{className:l.default.noData,children:"Нет данных трека"})})}function o(a){return new Date(a).toISOString()}let p=[{key:"speed",label:"Скорость",color:"#4c8cff",yLabel:"км/ч",enabled:!0},{key:"fls485_level_1",label:"Уровень топлива 1",color:"#ff6b6b",yLabel:"ед.",enabled:!1},{key:"fls485_level_2",label:"Уровень топлива 2",color:"#b56cff",yLabel:"ед.",enabled:!0},{key:"main_power_voltage",label:"Бортсеть",color:"#1ca67a",yLabel:"В",enabled:!0},{key:"map",label:"Карта перемещений",color:"#ffa500",yLabel:"",enabled:!0}],q=[{key:"today",label:"Сегодня",hours:24},{key:"yesterday",label:"Вчера",hours:24},{key:"week",label:"За неделю",hours:168},{key:"month",label:"За месяц",hours:720}];function r(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)("speed"),[E,F]=(0,c.useState)("today");(0,c.useEffect)(()=>{e("/api/imeis").then(a=>{g(a.imeis||[]),a.imeis?.[0]&&i(a.imeis[0])}).catch(a=>x(String(a)))},[]),(0,c.useEffect)(()=>{let a=new Date,b=new Date(a),c=new Date(a);c.setDate(a.getDate()-1);let d=a=>new Date(a.getTime()-6e4*a.getTimezoneOffset()).toISOString().slice(0,16);l(d(c)),r(d(b))},[]),(0,c.useEffect)(()=>{h&&(v(!0),B([]),e(`/api/fields?imei=${encodeURIComponent(h)}`).then(a=>{B(a.fields||[])}).catch(a=>{console.error("Ошибка загрузки полей:",a),x("Ошибка загрузки доступных параметров")}).finally(()=>{v(!1)}))},[h]),(0,c.useEffect)(()=>{h&&!u&&A.length>0&&k&&m&&(async()=>{t(!0),x(null),z(null);try{let a=await f({imei:h,start:o(k),end:o(m)});z(a)}catch(a){x(a instanceof Error?a.message:String(a))}finally{t(!1)}})()},[h,u,A.length,k,m]);let G=async a=>{a.preventDefault(),t(!0),x(null),z(null);try{let a=await f({imei:h,start:o(k),end:o(m)});z(a)}catch(a){x(a instanceof Error?a.message:String(a))}finally{t(!1)}},H=(y?.track||[]).length,I=a=>{if(!y)return!1;if("map"===a)return H>0;let b=y.series[a];return b&&b.length>0},J=()=>p.find(a=>a.key===C)||p[0];return(0,b.jsxs)("div",{className:d.default.container,children:[(0,b.jsx)("div",{className:`${d.default.header} panel`,children:(0,b.jsxs)("div",{className:d.default.headerTop,children:[(0,b.jsx)("h2",{children:"Телеметрия"}),(0,b.jsxs)("div",{className:d.default.badges,children:[h&&(0,b.jsxs)("span",{className:"tag",children:["IMEI: ",h]}),H>0&&(0,b.jsxs)("span",{className:"tag",children:[H," точек"]})]})]})}),w&&(0,b.jsxs)("div",{className:d.default.error,children:["Ошибка: ",w]}),(0,b.jsxs)("div",{className:d.default.mainContent,children:[s?(0,b.jsx)("div",{className:d.default.loadingOverlay,children:(0,b.jsxs)("div",{className:d.default.loadingContent,children:[(0,b.jsx)("div",{className:d.default.loadingSpinner}),(0,b.jsx)("div",{className:d.default.loadingTextLarge,children:"Загрузка данных..."})]})}):null,(0,b.jsx)("div",{className:d.default.chartArea,children:(()=>{if(!y)return(0,b.jsx)("div",{className:"panel",children:(0,b.jsx)("div",{className:d.default.noData,children:s?"":"Выберите параметры и загрузите данные"})});if("map"===C)return 0===H?(0,b.jsx)("div",{className:"panel",children:(0,b.jsx)("div",{className:d.default.noData,children:"Нет данных трека для отображения карты"})}):(0,b.jsxs)("div",{className:`panel ${d.default.chartContainer}`,children:[(0,b.jsx)("h3",{children:"Карта перемещений"}),(0,b.jsx)(n,{track:y.track||[],width:"100%",height:340})]});let a=y&&"map"!==C&&y.series[C]||[];return 0===a.length?(0,b.jsx)("div",{className:"panel",children:(0,b.jsxs)("div",{className:d.default.noData,children:['Нет данных для поля "',J().label,'"']})}):(0,b.jsx)("div",{className:`panel ${d.default.chartContainer}`,children:(0,b.jsx)(j,{title:J().label,yLabel:J().yLabel,data:a,color:J().color,height:200})})})()})]}),(0,b.jsx)("div",{className:d.default.bottomFilters,children:(0,b.jsx)("div",{className:`${d.default.filtersPanel} panel`,children:(0,b.jsxs)("div",{className:d.default.filtersGrid,children:[(0,b.jsxs)("div",{className:d.default.filterSection,children:[(0,b.jsx)("h4",{children:"IMEI"}),(0,b.jsx)("select",{className:"select",value:h,onChange:a=>i(a.target.value),disabled:u,children:a.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{className:d.default.filterSection,children:[(0,b.jsx)("h4",{children:"Период"}),(0,b.jsx)("div",{className:d.default.periodButtons,children:q.map(a=>(0,b.jsx)("button",{className:`${d.default.periodBtn} ${E===a.key?d.default.active:""}`,onClick:()=>(a=>{F(a);let b=new Date,c=new Date(b),d=new Date(b);switch(a){case"today":d.setHours(0,0,0,0),c.setHours(23,59,59,999);break;case"yesterday":d.setDate(b.getDate()-1),d.setHours(0,0,0,0),c.setDate(b.getDate()-1),c.setHours(23,59,59,999);break;case"week":d.setDate(b.getDate()-7);break;case"month":d.setMonth(b.getMonth()-1)}let e=a=>new Date(a.getTime()-6e4*a.getTimezoneOffset()).toISOString().slice(0,16);l(e(d)),r(e(c))})(a.key),disabled:s,children:a.label},a.key))})]}),(0,b.jsxs)("div",{className:d.default.filterSection,children:[(0,b.jsx)("h4",{children:"Отображение"}),(0,b.jsx)("select",{className:"select",value:C,onChange:a=>D(a.target.value),disabled:u||s,children:p.map(a=>{let c=(a=>{if("map"===a)return!!y&&I(a);let b=A.includes(a);return y?b&&I(a):b})(a.key);return(0,b.jsxs)("option",{value:a.key,disabled:!c,children:[a.label,c?"":" (недоступно)"]},a.key)})})]}),(0,b.jsx)("div",{className:d.default.filterSection,children:(0,b.jsx)("button",{className:"btn",onClick:G,disabled:s||!h||u,children:s?"Загрузка...":"Загрузить"})})]})})})]})}}];

//# sourceMappingURL=_4edf6eab._.js.map